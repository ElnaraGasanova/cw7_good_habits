## Курсовая 7. "DRF".
```
https://github.com/ElnaraGasanova/cw7_good_habits.git
```
В 2018 году Джеймс Клир написал книгу «Атомные привычки», которая посвящена приобретению новых полезных привычек и
искоренению старых плохих привычек. Приложение представляет собой трекер полезных привычек.
В приложении можно создать/изменить/удалить Пользователя, Привычку. Реализован запуск периодической задачи
уведомления о времени и месте выполнения полезной привычки от 1 до 7 раз в неделю. Вся информация сохраняется в БД
PostgreSQL. Реализовано разграничение прав доступа для Пользователей. В проекте описан Dockerfile для запуска
контейнера с проектом. В Docker Compose Django описан проект с БД PostgreSQL, работа с Redis и Celery.
Для работы с периодическими задачами (ОС Windows) использована библиотека apscheduler.
Документация находится по адресу:
```commandline
https://pypi.org/project/django-apscheduler/
```
Документация Redis находится по адресу (!запускать с применением VPN):
```commandline
https://redis.io/docs/latest/
```

### Используемые технологии:
* Python
* Django
* DRF
* PostgerSQL
* WSL
* Redis
* Celery
* Apscheduler
* Docker Desktop

#### Параметры по работе в БД с Пользователями:
* Email Пользователя
* Телеграм Пользователя

#### Параметры по работе в БД с Привычками:
* Создатель привычки
* Место выполнения
* Время выполнения
* Действие к выполнению
* Признак приятной привычки
* Признак связанной привычки
* Периодичность выполнения
* Вознаграждение
* Длительность выполнения
* Публичность привычки

### ИНСТРУКЦИЯ ПО РАЗВЕРТЫВАНИЮ
* Сделайте Fork этого репозитория. Репозиторий появится
в личных репозиториях на GitHub:
```
https://github.com/ElnaraGasanova/cw7_good_habits.git
```
* Сделайте git clone форкнутого репозитория, чтобы получить
репозиторий локально:
```
git clone https://github.com
```
* Создайте виртуальное окружение и активируйте его:
```
python -m venv venv
venv\Scripts\activate
```
p.s. Для выхода из виртуального окружения и возврата к глобальному
окружению Python введите следующую команду:
```
deactivate
```
* Для установки всех библиотек выполните команду:
```
pip install -r requirements.txt
```
* Для соединения с pgAdmin внесите информацию о пароле в config/settings.py в 
разделе DATABASES = ...

* Создайте файл .env по образцу файла .env.sample и заполните все данные

* Приложение работает следующим образом, для соединения с сервером,
необходимо в терминале PyCharm ввести команду:
```
python manage.py runserver
```
* Запустить окно WSL, в нем запустить redis и проверить работоспособность командами:
```
service redis-server start
redis-cli ping
"в ответ должно вернуться PONG"
```
* В двух других новых окнах терминале PyCharm запускаем celery командами:
```
celery -A config worker --loglevel=info
celery -A config beat --loglevel=info
```
* и перейти по ссылке для дальнейшей работы
```
http://127.0.0.1:8000/
```
* Для запуск контейнера с проектом, скачайте и установите Docker Desktop, все необходимые файлы для сборки уже 
есть в проекте. Далее необходимо в терминале PyCharm ввести команду запуска проекта:
```
docker-compose up -d --build
```
* Перейти в приложение Docker Desktop, где запустился наш проект и далее по ссылке подключения
```
http://localhost:8000/
```
* Остановка проекта в приложении Docker Desktop осуществляется командой:
```
docker-compose down
```
### Автор проекта
```
https://github.com/ElnaraGasanova
```